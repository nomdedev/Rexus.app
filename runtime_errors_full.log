Intentando cargar aplicación completa...
2025-08-18 20:46:06 | INFO     | rexus           | Sistema de logging Rexus inicializado
[INFO] Sistema de logging Rexus inicializado
2025-08-18 20:46:06 | INFO     | rexus.startup   | Variables de entorno cargadas desde .env
[INFO] Variables de entorno cargadas desde .env
[LOG 4.1] Inicializando QtWebEngine de forma robusta...
2025-08-18 20:46:06 | WARNING  | rexus.utils.webengine_manager | QtWebEngine no disponible: No module named 'PyQt6.QtWebEngine'
[WARNING] QtWebEngine no disponible: No module named 'PyQt6.QtWebEngine'
[LOG 4.1] QtWebEngine no disponible, usando fallbacks
[LOG 4.1] Razones: ["Import falló: No module named 'PyQt6.QtWebEngine'"]
2025-08-18 20:46:06 | INFO     | rexus.startup   | ============================================================
[INFO] ============================================================
2025-08-18 20:46:06 | INFO     | rexus.startup   | REXUS.APP - INICIO DE APLICACIÓN
[INFO] REXUS.APP - INICIO DE APLICACIÓN
2025-08-18 20:46:06 | INFO     | rexus.startup   | Versión Python: 3.10.5 (tags/v3.10.5:f377153, Jun  6 2022, 16:14:13) [MSC v.1929 64 bit (AMD64)]
[INFO] Versión Python: 3.10.5 (tags/v3.10.5:f377153, Jun  6 2022, 16:14:13) [MSC v.1929 64 bit (AMD64)]
2025-08-18 20:46:06 | INFO     | rexus.startup   | Directorio de trabajo: D:\martin\Rexus.app
[INFO] Directorio de trabajo: D:\martin\Rexus.app
2025-08-18 20:46:06 | INFO     | rexus.startup   | Argumentos: ['main.py']
[INFO] Argumentos: ['main.py']
2025-08-18 20:46:06 | INFO     | rexus.startup   | ============================================================
[INFO] ============================================================
2025-08-18 20:46:06 | INFO     | rexus.startup   | Iniciando Rexus.app
[INFO] Iniciando Rexus.app
2025-08-18 20:46:06 | INFO     | rexus.startup   | Validando dependencias críticas del sistema
[INFO] Validando dependencias críticas del sistema
[SUBMODULOS INVENTARIO] OK - Submodulos cargados correctamente
2025-08-18 20:46:07 | INFO     | rexus.inventario.model | Submódulos especializados cargados
[INFO] Submódulos especializados cargados
[STYLE] Tema oscuro detectado en Windows - aplicando correcciones criticas
[STYLE] Aplicando correcciones criticas automaticas para tema oscuro
[STYLE] [ART] Aplicando tema oscuro mejorado
[STYLE] [WARNING] No se pudo obtener instancia de QApplication
[STYLE] Aplicando correcciones criticas automaticas para tema oscuro
[STYLE] [ART] Aplicando tema oscuro mejorado
[STYLE]  Aplicando correcciones críticas de contraste
[STYLE] [OK] Correcciones automáticas aplicadas exitosamente
2025-08-18 20:46:07 | INFO     | rexus.startup   | Validación de dependencias exitosa - 0 advertencias
[INFO] Validación de dependencias exitosa - 0 advertencias
2025-08-18 20:46:07 | INFO     | rexus.startup   | module_manager validado correctamente
[INFO] module_manager validado correctamente
2025-08-18 20:46:07 | INFO     | rexus.startup   | Iniciando QApplication
[INFO] Iniciando QApplication
2025-08-18 20:46:07 | INFO     | rexus.startup   | QApplication inicializada, preparando login
[INFO] QApplication inicializada, preparando login
[SECURITY] Conexión BD exitosa para sistema de seguridad
2025-08-18 20:46:07 | INFO     | rexus.security  | [SECURITY-INFO] SecurityManager inicializado correctamente
[INFO] [SECURITY-INFO] SecurityManager inicializado correctamente
2025-08-18 20:46:07 | INFO     | rexus.security  | [SECURITY-INFO] Sistema de seguridad completo inicializado
[INFO] [SECURITY-INFO] Sistema de seguridad completo inicializado
[INFO] Programador de backups iniciado
[CHECK] Sistema de backup inicializado correctamente
[CHECK] Sistema de backup automático inicializado
[LOG 4.10] QApplication loop iniciado.
2025-08-18 20:47:54 | INFO     | rexus.core.database | Intentando conectar a la base de datos
[INFO] Intentando conectar a la base de datos
2025-08-18 20:47:54 | INFO     | rexus.core.database | Servidor: ITACHI\SQLEXPRESS
[INFO] Servidor: ITACHI\SQLEXPRESS
2025-08-18 20:47:54 | INFO     | rexus.core.database | Base de datos: users
[INFO] Base de datos: users
2025-08-18 20:47:54 | INFO     | rexus.core.database | Driver: ODBC Driver 17 for SQL Server
[INFO] Driver: ODBC Driver 17 for SQL Server
2025-08-18 20:47:54 | INFO     | rexus.core.database | Usuario: sa
[INFO] Usuario: sa
[DEBUG] String de conexión: DRIVER={ODBC Driver 17 for SQL Server};SERVER=ITACHI\SQLEXPRESS;DATABASE=users;UID=sa;PWD=******;TrustServerCertificate=yes;
2025-08-18 20:47:55 | INFO     | rexus.core.database | Conexión exitosa OK
[INFO] Conexión exitosa OK
[DEBUG] get_user_modules llamado con user_id: 1
[DEBUG] current_role: 'ADMIN'
[DEBUG] current_user: {'username': 'admin', 'role': 'ADMIN', 'nombre': 'Administrador', 'apellido': 'Admin', 'email': 'admin@rexus.app', 'authenticated': True}
[DEBUG] Admin detectado, devolviendo 12 módulos
[CHECK] Usuario autenticado: admin (rol: admin)
[CHECK] [LOGIN] Autenticación exitosa para admin (ADMIN)
[SECURITY] Contexto establecido - Usuario: admin, Rol: ADMIN
2025-08-18 20:47:55 | INFO     | rexus.core.security | Estado del sistema de permisos:
[INFO] Estado del sistema de permisos:
2025-08-18 20:47:55 | INFO     | rexus.core.security |   security_manager_initialized: True
[INFO]   security_manager_initialized: True
2025-08-18 20:47:55 | INFO     | rexus.core.security |   current_user: {'username': 'admin', 'role': 'ADMIN', 'nombre': 'Administrador', 'apellido': 'Admin', 'email': 'admin@rexus.app', 'authenticated': True}
[INFO]   current_user: {'username': 'admin', 'role': 'ADMIN', 'nombre': 'Administrador', 'apellido': 'Admin', 'email': 'admin@rexus.app', 'authenticated': True}
2025-08-18 20:47:55 | INFO     | rexus.core.security |   current_role: ADMIN
[INFO]   current_role: ADMIN
2025-08-18 20:47:55 | INFO     | rexus.core.security |   db_connection_status: Connected
[INFO]   db_connection_status: Connected
2025-08-18 20:47:55 | INFO     | rexus.core.security |   session_active: True
[INFO]   session_active: True
2025-08-18 20:47:55 | INFO     | rexus.core.security |   role_recognized: True
[INFO]   role_recognized: True
2025-08-18 20:47:55 | INFO     | rexus.core.security |   modules_count: 12
[INFO]   modules_count: 12
2025-08-18 20:47:55 | INFO     | rexus.core.security |   has_admin_access: True
[INFO]   has_admin_access: True
2025-08-18 20:47:55 | INFO     | rexus.core.security |   modules_list: ['Inventario', 'Administración', 'Obras', 'Pedidos', 'Logística', 'Herrajes', 'Vidrios', 'Usuarios', 'Auditoría', 'Configuración', 'Compras', 'Mantenimiento']
[INFO]   modules_list: ['Inventario', 'Administración', 'Obras', 'Pedidos', 'Logística', 'Herrajes', 'Vidrios', 'Usuarios', 'Auditoría', 'Configuración', 'Compras', 'Mantenimiento']
[DEBUG] get_user_modules llamado con user_id: 1
[DEBUG] current_role: 'ADMIN'
[DEBUG] current_user: {'username': 'admin', 'role': 'ADMIN', 'nombre': 'Administrador', 'apellido': 'Admin', 'email': 'admin@rexus.app', 'authenticated': True}
[DEBUG] Admin detectado, devolviendo 12 módulos
[SECURITY] Módulos obtenidos para ADMIN: 12 módulos
[SECURITY] Lista de módulos: ['Inventario', 'Administración', 'Obras', 'Pedidos', 'Logística', 'Herrajes', 'Vidrios', 'Usuarios', 'Auditoría', 'Configuración', 'Compras', 'Mantenimiento']
2025-08-18 20:47:55 | INFO     | rexus.security  | Creando MainWindow para usuario: admin
[INFO] Creando MainWindow para usuario: admin
[DEBUG] Módulos permitidos: ['Inventario', 'Administración', 'Obras', 'Pedidos', 'Logística', 'Herrajes', 'Vidrios', 'Usuarios', 'Auditoría', 'Configuración', 'Compras', 'Mantenimiento']
[STYLE] [DARK] Detectado tema oscuro 'dark' - aplicando correcciones críticas automáticas
[STYLE] Correcciones críticas de contraste aplicadas globalmente
[STYLE] Tema aplicado: dark
[STYLE] Tema 'dark' aplicado globalmente
[STYLE] apply_emergency_readable_forms DESHABILITADO - sin correcciones invasivas
[STYLE] [OK] Formularios ultra-legibles aplicados correctamente
[DEBUG] Módulo 'Obras': permisos=True
[DEBUG] Módulo 'Inventario': permisos=True
[DEBUG] Módulo 'Herrajes': permisos=True
[DEBUG] Módulo 'Vidrios': permisos=True
[DEBUG] Módulo 'Logística': permisos=True
[DEBUG] Módulo 'Pedidos': permisos=True
[DEBUG] Módulo 'Compras': permisos=True
[DEBUG] Módulo 'Administración': permisos=True
[DEBUG] Módulo 'Mantenimiento': permisos=True
[DEBUG] Módulo 'Auditoría': permisos=True
[DEBUG] Módulo 'Usuarios': permisos=True
[DEBUG] Módulo 'Configuración': permisos=True
2025-08-18 20:47:56 | INFO     | rexus.security  | Aplicación iniciada para admin
[INFO] Aplicación iniciada para admin
[Inventario] Iniciando carga de módulo...
[Inventario] Paso 1: Creando modelo...
[Inventario] Instanciando clase modelo: InventarioModel
2025-08-18 20:48:02 | INFO     | rexus.inventario.model | Utilidades de seguridad cargadas
[INFO] Utilidades de seguridad cargadas
2025-08-18 20:48:02 | INFO     | rexus.inventario.model | SQL script loader disponible
[INFO] SQL script loader disponible
2025-08-18 20:48:02 | INFO     | rexus.modules.inventario.submodules.base_utilities | Utilidades de seguridad cargadas en BaseUtilities
[INFO] Utilidades de seguridad cargadas en BaseUtilities
2025-08-18 20:48:02 | INFO     | rexus.modules.inventario.submodules.base_utilities | Utilidades de seguridad cargadas en BaseUtilities
[INFO] Utilidades de seguridad cargadas en BaseUtilities
2025-08-18 20:48:02 | INFO     | rexus.modules.inventario.submodules.base_utilities | Utilidades de seguridad cargadas en BaseUtilities
[INFO] Utilidades de seguridad cargadas en BaseUtilities
2025-08-18 20:48:02 | INFO     | rexus.modules.inventario.submodules.base_utilities | Utilidades de seguridad cargadas en BaseUtilities
[INFO] Utilidades de seguridad cargadas en BaseUtilities
2025-08-18 20:48:02 | INFO     | rexus.inventario.model | Managers especializados inicializados
[INFO] Managers especializados inicializados
2025-08-18 20:48:02 | INFO     | rexus.inventario.model | ConsultasManager inicializado
[INFO] ConsultasManager inicializado
2025-08-18 20:48:02 | INFO     | rexus.core.database | Intentando conectar a la base de datos
[INFO] Intentando conectar a la base de datos
2025-08-18 20:48:02 | INFO     | rexus.core.database | Servidor: ITACHI\SQLEXPRESS
[INFO] Servidor: ITACHI\SQLEXPRESS
2025-08-18 20:48:02 | INFO     | rexus.core.database | Base de datos: inventario
[INFO] Base de datos: inventario
2025-08-18 20:48:02 | INFO     | rexus.core.database | Driver: ODBC Driver 17 for SQL Server
[INFO] Driver: ODBC Driver 17 for SQL Server
2025-08-18 20:48:02 | INFO     | rexus.core.database | Usuario: sa
[INFO] Usuario: sa
[DEBUG] String de conexión: DRIVER={ODBC Driver 17 for SQL Server};SERVER=ITACHI\SQLEXPRESS;DATABASE=inventario;UID=sa;PWD=******;TrustServerCertificate=yes;
2025-08-18 20:48:02 | INFO     | rexus.core.database | Conexión exitosa OK
[INFO] Conexión exitosa OK
[DEBUG] [SQL_MANAGER] Consulta cargada: inventario.verificar_tabla_existe desde D:\martin\Rexus.app\sql\inventario\verificar_tabla_existe.sql
2025-08-18 20:48:02 | ERROR    | rexus.inventario.model | [INVENTARIO] Tabla principal 'inventario_perfiles' verificada correctamente.
[ERROR] [INVENTARIO] Tabla principal 'inventario_perfiles' verificada correctamente.
2025-08-18 20:48:02 | INFO     | rexus.inventario.model | Tabla 'historial' verificada correctamente
[INFO] Tabla 'historial' verificada correctamente
2025-08-18 20:48:02 | INFO     | rexus.inventario.model | Tabla 'reserva_materiales' verificada correctamente
[INFO] Tabla 'reserva_materiales' verificada correctamente
2025-08-18 20:48:02 | INFO     | rexus.inventario.model | Verificación de tablas completada
[INFO] Verificación de tablas completada
[Inventario] Modelo creado con conexión BD
[Inventario] Paso 2: Creando vista...
[Inventario] Instanciando clase vista: InventarioView
[THEME_FIX] Tema oscuro detectado - aplicando correcciones a módulo
[THEME_FIX] Estilos seguros aplicados a InventarioView
[[PACKAGE] GESTIÓN DE INVENTARIO] Estilos aplicados con correcciones de legibilidad
[WARNING] Error en add_to_main_content: addLayout(self, layout: Optional[QLayout], stretch: int = 0): argument 1 has unexpected type 'QSplitter'
[Inventario] Vista creada exitosamente
[Inventario] Paso 3: Creando controlador...
[Inventario] Instanciando clase controlador: InventarioController
2025-08-18 20:48:02 | INFO     | rexus.inventario.controller | Inicializando controlador completo de inventario
[INFO] Inicializando controlador completo de inventario
[DEBUG] Conectando señales de la vista de inventario...
[DEBUG] Conectado botón: btn_buscar
2025-08-18 20:48:02 | ERROR    | rexus.inventario.controller | Error conectando señales: wrapped C/C++ object of type RexusButton has been deleted
Traceback (most recent call last):
  File "D:\martin\Rexus.app\rexus\modules\inventario\controller.py", line 123, in conectar_senales
    self._conectar_boton("btn_actualizar", self.cargar_inventario)
  File "D:\martin\Rexus.app\rexus\modules\inventario\controller.py", line 160, in _conectar_boton
    boton.clicked.connect(metodo)
RuntimeError: wrapped C/C++ object of type RexusButton has been deleted
[ERROR] Error conectando señales: wrapped C/C++ object of type RexusButton has been deleted
Traceback (most recent call last):
  File "D:\martin\Rexus.app\rexus\modules\inventario\controller.py", line 123, in conectar_senales
    self._conectar_boton("btn_actualizar", self.cargar_inventario)
  File "D:\martin\Rexus.app\rexus\modules\inventario\controller.py", line 160, in _conectar_boton
    boton.clicked.connect(metodo)
RuntimeError: wrapped C/C++ object of type RexusButton has been deleted
2025-08-18 20:48:02 | INFO     | rexus.inventario.controller | Controlador de inventario inicializado exitosamente
[INFO] Controlador de inventario inicializado exitosamente
[Inventario] Controlador creado exitosamente
[Inventario] Paso 4: Configurando conexiones...
[INVENTARIO] Conectado btn_nuevo_producto -> nuevo_producto
[INVENTARIO] Error conectando btn_editar: wrapped C/C++ object of type RexusButton has been deleted
[INVENTARIO] Error conectando btn_eliminar: wrapped C/C++ object of type RexusButton has been deleted
[INVENTARIO] Conectado btn_exportar -> exportar_inventario
[INVENTARIO] Saltando btn_importar - no disponible
[INVENTARIO] Error conectando btn_movimiento: wrapped C/C++ object of type RexusButton has been deleted
[INVENTARIO] Saltando btn_reporte_stock_bajo - no disponible
[INVENTARIO] Saltando btn_asociar_obra - no disponible
[INVENTARIO] Saltando btn_generar_qr - no disponible
[Inventario] Vista conectada al controlador
[Inventario] Paso 5: Cargando datos iniciales...
2025-08-18 20:48:02 | INFO     | rexus.inventario.controller | Iniciando carga inicial de inventario
[INFO] Iniciando carga inicial de inventario
[DEBUG] Cargando página 1, 100 registros...
2025-08-18 20:48:02 | ERROR    | rexus.inventario.controller | Error en paginación: 'ConsultasManager' object has no attribute 'obtener_productos_paginados_inicial'
Traceback (most recent call last):
  File "D:\martin\Rexus.app\rexus\modules\inventario\controller.py", line 184, in cargar_inventario_paginado
    resultado = self.model.obtener_productos_paginados_inicial(
  File "D:\martin\Rexus.app\rexus\modules\inventario\model.py", line 3117, in obtener_productos_paginados_inicial
    return self.consultas_manager.obtener_productos_paginados_inicial(
AttributeError: 'ConsultasManager' object has no attribute 'obtener_productos_paginados_inicial'
[ERROR] Error en paginación: 'ConsultasManager' object has no attribute 'obtener_productos_paginados_inicial'
Traceback (most recent call last):
  File "D:\martin\Rexus.app\rexus\modules\inventario\controller.py", line 184, in cargar_inventario_paginado
    resultado = self.model.obtener_productos_paginados_inicial(
  File "D:\martin\Rexus.app\rexus\modules\inventario\model.py", line 3117, in obtener_productos_paginados_inicial
    return self.consultas_manager.obtener_productos_paginados_inicial(
AttributeError: 'ConsultasManager' object has no attribute 'obtener_productos_paginados_inicial'
[CHECK] [Inventario] Datos cargados con método específico: cargar_inventario_inicial
[CHECK] [Inventario] Módulo cargado exitosamente
[Inventario] Iniciando carga de módulo...
[Inventario] Paso 1: Creando modelo...
[Inventario] Instanciando clase modelo: InventarioModel
2025-08-18 20:48:06 | INFO     | rexus.inventario.model | Utilidades de seguridad cargadas
[INFO] Utilidades de seguridad cargadas
2025-08-18 20:48:06 | INFO     | rexus.inventario.model | SQL script loader disponible
[INFO] SQL script loader disponible
2025-08-18 20:48:06 | INFO     | rexus.modules.inventario.submodules.base_utilities | Utilidades de seguridad cargadas en BaseUtilities
[INFO] Utilidades de seguridad cargadas en BaseUtilities
2025-08-18 20:48:06 | INFO     | rexus.modules.inventario.submodules.base_utilities | Utilidades de seguridad cargadas en BaseUtilities
[INFO] Utilidades de seguridad cargadas en BaseUtilities
2025-08-18 20:48:06 | INFO     | rexus.modules.inventario.submodules.base_utilities | Utilidades de seguridad cargadas en BaseUtilities
[INFO] Utilidades de seguridad cargadas en BaseUtilities
2025-08-18 20:48:06 | INFO     | rexus.modules.inventario.submodules.base_utilities | Utilidades de seguridad cargadas en BaseUtilities
[INFO] Utilidades de seguridad cargadas en BaseUtilities
2025-08-18 20:48:06 | INFO     | rexus.inventario.model | Managers especializados inicializados
[INFO] Managers especializados inicializados
2025-08-18 20:48:06 | INFO     | rexus.inventario.model | ConsultasManager inicializado
[INFO] ConsultasManager inicializado
2025-08-18 20:48:06 | INFO     | rexus.core.database | Intentando conectar a la base de datos
[INFO] Intentando conectar a la base de datos
2025-08-18 20:48:06 | INFO     | rexus.core.database | Servidor: ITACHI\SQLEXPRESS
[INFO] Servidor: ITACHI\SQLEXPRESS
2025-08-18 20:48:06 | INFO     | rexus.core.database | Base de datos: inventario
[INFO] Base de datos: inventario
2025-08-18 20:48:06 | INFO     | rexus.core.database | Driver: ODBC Driver 17 for SQL Server
[INFO] Driver: ODBC Driver 17 for SQL Server
2025-08-18 20:48:06 | INFO     | rexus.core.database | Usuario: sa
[INFO] Usuario: sa
[DEBUG] String de conexión: DRIVER={ODBC Driver 17 for SQL Server};SERVER=ITACHI\SQLEXPRESS;DATABASE=inventario;UID=sa;PWD=******;TrustServerCertificate=yes;
2025-08-18 20:48:06 | INFO     | rexus.core.database | Conexión exitosa OK
[INFO] Conexión exitosa OK
[DEBUG] [SQL_MANAGER] Consulta cargada: inventario.verificar_tabla_existe desde D:\martin\Rexus.app\sql\inventario\verificar_tabla_existe.sql
2025-08-18 20:48:06 | ERROR    | rexus.inventario.model | [INVENTARIO] Tabla principal 'inventario_perfiles' verificada correctamente.
[ERROR] [INVENTARIO] Tabla principal 'inventario_perfiles' verificada correctamente.
2025-08-18 20:48:06 | INFO     | rexus.inventario.model | Tabla 'historial' verificada correctamente
[INFO] Tabla 'historial' verificada correctamente
2025-08-18 20:48:06 | INFO     | rexus.inventario.model | Tabla 'reserva_materiales' verificada correctamente
[INFO] Tabla 'reserva_materiales' verificada correctamente
2025-08-18 20:48:06 | INFO     | rexus.inventario.model | Verificación de tablas completada
[INFO] Verificación de tablas completada
[Inventario] Modelo creado con conexión BD
[Inventario] Paso 2: Creando vista...
[Inventario] Instanciando clase vista: InventarioView
[THEME_FIX] Tema oscuro detectado - aplicando correcciones a módulo
[THEME_FIX] Estilos seguros aplicados a InventarioView
[[PACKAGE] GESTIÓN DE INVENTARIO] Estilos aplicados con correcciones de legibilidad
[WARNING] Error en add_to_main_content: addLayout(self, layout: Optional[QLayout], stretch: int = 0): argument 1 has unexpected type 'QSplitter'
[Inventario] Vista creada exitosamente
[Inventario] Paso 3: Creando controlador...
[Inventario] Instanciando clase controlador: InventarioController
2025-08-18 20:48:06 | INFO     | rexus.inventario.controller | Inicializando controlador completo de inventario
[INFO] Inicializando controlador completo de inventario
[DEBUG] Conectando señales de la vista de inventario...
[DEBUG] Conectado botón: btn_buscar
2025-08-18 20:48:06 | ERROR    | rexus.inventario.controller | Error conectando señales: wrapped C/C++ object of type RexusButton has been deleted
Traceback (most recent call last):
  File "D:\martin\Rexus.app\rexus\modules\inventario\controller.py", line 123, in conectar_senales
    self._conectar_boton("btn_actualizar", self.cargar_inventario)
  File "D:\martin\Rexus.app\rexus\modules\inventario\controller.py", line 160, in _conectar_boton
    boton.clicked.connect(metodo)
RuntimeError: wrapped C/C++ object of type RexusButton has been deleted
[ERROR] Error conectando señales: wrapped C/C++ object of type RexusButton has been deleted
Traceback (most recent call last):
  File "D:\martin\Rexus.app\rexus\modules\inventario\controller.py", line 123, in conectar_senales
    self._conectar_boton("btn_actualizar", self.cargar_inventario)
  File "D:\martin\Rexus.app\rexus\modules\inventario\controller.py", line 160, in _conectar_boton
    boton.clicked.connect(metodo)
RuntimeError: wrapped C/C++ object of type RexusButton has been deleted
2025-08-18 20:48:06 | INFO     | rexus.inventario.controller | Controlador de inventario inicializado exitosamente
[INFO] Controlador de inventario inicializado exitosamente
[Inventario] Controlador creado exitosamente
[Inventario] Paso 4: Configurando conexiones...
[INVENTARIO] Conectado btn_nuevo_producto -> nuevo_producto
[INVENTARIO] Error conectando btn_editar: wrapped C/C++ object of type RexusButton has been deleted
[INVENTARIO] Error conectando btn_eliminar: wrapped C/C++ object of type RexusButton has been deleted
[INVENTARIO] Conectado btn_exportar -> exportar_inventario
[INVENTARIO] Saltando btn_importar - no disponible
[INVENTARIO] Error conectando btn_movimiento: wrapped C/C++ object of type RexusButton has been deleted
[INVENTARIO] Saltando btn_reporte_stock_bajo - no disponible
[INVENTARIO] Saltando btn_asociar_obra - no disponible
[INVENTARIO] Saltando btn_generar_qr - no disponible
[Inventario] Vista conectada al controlador
[Inventario] Paso 5: Cargando datos iniciales...
2025-08-18 20:48:06 | INFO     | rexus.inventario.controller | Iniciando carga inicial de inventario
[INFO] Iniciando carga inicial de inventario
[DEBUG] Cargando página 1, 100 registros...
2025-08-18 20:48:06 | ERROR    | rexus.inventario.controller | Error en paginación: 'ConsultasManager' object has no attribute 'obtener_productos_paginados_inicial'
Traceback (most recent call last):
  File "D:\martin\Rexus.app\rexus\modules\inventario\controller.py", line 184, in cargar_inventario_paginado
    resultado = self.model.obtener_productos_paginados_inicial(
  File "D:\martin\Rexus.app\rexus\modules\inventario\model.py", line 3117, in obtener_productos_paginados_inicial
    return self.consultas_manager.obtener_productos_paginados_inicial(
AttributeError: 'ConsultasManager' object has no attribute 'obtener_productos_paginados_inicial'
[ERROR] Error en paginación: 'ConsultasManager' object has no attribute 'obtener_productos_paginados_inicial'
Traceback (most recent call last):
  File "D:\martin\Rexus.app\rexus\modules\inventario\controller.py", line 184, in cargar_inventario_paginado
    resultado = self.model.obtener_productos_paginados_inicial(
  File "D:\martin\Rexus.app\rexus\modules\inventario\model.py", line 3117, in obtener_productos_paginados_inicial
    return self.consultas_manager.obtener_productos_paginados_inicial(
AttributeError: 'ConsultasManager' object has no attribute 'obtener_productos_paginados_inicial'
[CHECK] [Inventario] Datos cargados con método específico: cargar_inventario_inicial
[CHECK] [Inventario] Módulo cargado exitosamente
[Herrajes] Iniciando carga de módulo...
[Herrajes] Paso 1: Creando modelo...
[Herrajes] Instanciando clase modelo: HerrajesModel
2025-08-18 20:48:09 | INFO     | rexus.core.database | Intentando conectar a la base de datos
[INFO] Intentando conectar a la base de datos
2025-08-18 20:48:09 | INFO     | rexus.core.database | Servidor: ITACHI\SQLEXPRESS
[INFO] Servidor: ITACHI\SQLEXPRESS
2025-08-18 20:48:09 | INFO     | rexus.core.database | Base de datos: inventario
[INFO] Base de datos: inventario
2025-08-18 20:48:09 | INFO     | rexus.core.database | Driver: ODBC Driver 17 for SQL Server
[INFO] Driver: ODBC Driver 17 for SQL Server
2025-08-18 20:48:09 | INFO     | rexus.core.database | Usuario: sa
[INFO] Usuario: sa
[DEBUG] String de conexión: DRIVER={ODBC Driver 17 for SQL Server};SERVER=ITACHI\SQLEXPRESS;DATABASE=inventario;UID=sa;PWD=******;TrustServerCertificate=yes;
2025-08-18 20:48:09 | INFO     | rexus.core.database | Conexión exitosa OK
[INFO] Conexión exitosa OK
[DEBUG] Validando componentes del controlador herrajes
[HERRAJES] Tabla 'herrajes' verificada correctamente.
[HERRAJES] Estructura de tabla 'herrajes':
  - id: int
  - codigo: varchar
  - nombre: varchar
  - descripcion: text
  - categoria: varchar
  - proveedor: varchar
  - precio_unitario: decimal
  - stock_actual: int
  - stock_minimo: int
  - unidad_medida: varchar
  - especificaciones: text
  - imagen_url: varchar
  - activo: bit
  - fecha_creacion: datetime
  - fecha_actualizacion: datetime
  - estado: nvarchar
  - observaciones: ntext
[HERRAJES] Tabla 'herrajes_obra' verificada correctamente.
[Herrajes] Modelo creado con conexión BD
[Herrajes] Paso 2: Creando vista...
[Herrajes] Instanciando clase vista: HerrajesView
[Herrajes] Vista creada exitosamente
[Herrajes] Paso 3: Creando controlador...
[Herrajes] Instanciando clase controlador: HerrajesController
2025-08-18 20:48:09 | WARNING  | rexus.herrajes.controller | Conexión de BD no disponible para herrajes
[WARNING] Conexión de BD no disponible para herrajes
2025-08-18 20:48:09 | INFO     | rexus.herrajes.controller | Validación de componentes herrajes completada
[INFO] Validación de componentes herrajes completada
[HERRAJES CONTROLLER] Cargando datos iniciales...
OK [HERRAJES] Obtenidos 4 herrajes
OK [HERRAJES] Estadisticas obtenidas exitosamente
[HERRAJES CONTROLLER] Datos iniciales cargados: 4 herrajes
[Herrajes] Controlador creado exitosamente
[Herrajes] Paso 4: Configurando conexiones...
[Herrajes] Vista conectada al controlador
[Herrajes] Paso 5: Cargando datos iniciales...
[HERRAJES CONTROLLER] Cargando datos iniciales...
OK [HERRAJES] Obtenidos 4 herrajes
OK [HERRAJES] Estadisticas obtenidas exitosamente
[HERRAJES CONTROLLER] Datos iniciales cargados: 4 herrajes
[CHECK] [Herrajes] Datos cargados con método específico: cargar_herrajes
[CHECK] [Herrajes] Módulo cargado exitosamente
[HERRAJES CONTROLLER] Cargando datos iniciales...
OK [HERRAJES] Obtenidos 4 herrajes
OK [HERRAJES] Estadisticas obtenidas exitosamente
[HERRAJES CONTROLLER] Datos iniciales cargados: 4 herrajes
2025-08-18 20:48:16 | INFO     | rexus.vidrios.model | Sistema unificado de sanitización cargado
[INFO] Sistema unificado de sanitización cargado
[Vidrios] Iniciando carga de módulo...
[Vidrios] Paso 1: Creando modelo...
[Vidrios] Instanciando clase modelo: VidriosModel
2025-08-18 20:48:16 | INFO     | rexus.vidrios.model | Sanitizador inicializado correctamente
[INFO] Sanitizador inicializado correctamente
2025-08-18 20:48:16 | WARNING  | rexus.vidrios.model | No se puede verificar tablas: conexión no disponible
[WARNING] No se puede verificar tablas: conexión no disponible
[Vidrios] Modelo creado con conexión BD
[Vidrios] Paso 2: Creando vista...
[Vidrios] Instanciando clase vista: VidriosModernView
[Vidrios] Vista creada exitosamente
[Vidrios] Paso 3: Creando controlador...
[Vidrios] Instanciando clase controlador: VidriosController
[Vidrios] Controlador creado exitosamente
[Vidrios] Paso 4: Configurando conexiones...
[Vidrios] Vista no requiere conexión explícita
[Vidrios] Paso 5: Cargando datos iniciales...
2025-08-18 20:48:17 | WARNING  | rexus.core.module_manager | [Vidrios] Método cargar_vidrios no encontrado en controlador
[WARNING] [Vidrios] Método cargar_vidrios no encontrado en controlador
2025-08-18 20:48:17 | WARNING  | rexus.vidrios.model | No se puede obtener vidrios: conexión no disponible
[WARNING] No se puede obtener vidrios: conexión no disponible
2025-08-18 20:48:17 | ERROR    | rexus.vidrios.model | Error obteniendo estadísticas: 'NoneType' object has no attribute 'cursor'
[ERROR] Error obteniendo estadísticas: 'NoneType' object has no attribute 'cursor'
[CHECK] [Vidrios] Datos cargados con método genérico: cargar_datos_iniciales
[CHECK] [Vidrios] Módulo cargado exitosamente
[Logistica] Iniciando carga de módulo...
[Logistica] Paso 1: Creando modelo...
[Logistica] Instanciando clase modelo: LogisticaModel
2025-08-18 20:48:22 | INFO     | rexus.core.database | Intentando conectar a la base de datos
[INFO] Intentando conectar a la base de datos
2025-08-18 20:48:22 | INFO     | rexus.core.database | Servidor: ITACHI\SQLEXPRESS
[INFO] Servidor: ITACHI\SQLEXPRESS
2025-08-18 20:48:22 | INFO     | rexus.core.database | Base de datos: inventario
[INFO] Base de datos: inventario
2025-08-18 20:48:22 | INFO     | rexus.core.database | Driver: ODBC Driver 17 for SQL Server
[INFO] Driver: ODBC Driver 17 for SQL Server
2025-08-18 20:48:22 | INFO     | rexus.core.database | Usuario: sa
[INFO] Usuario: sa
[DEBUG] String de conexión: DRIVER={ODBC Driver 17 for SQL Server};SERVER=ITACHI\SQLEXPRESS;DATABASE=inventario;UID=sa;PWD=******;TrustServerCertificate=yes;
2025-08-18 20:48:22 | INFO     | rexus.core.database | Conexión exitosa OK
[INFO] Conexión exitosa OK
[LOGÍSTICA] Tabla 'transportes' verificada correctamente.
[LOGÍSTICA] Tabla 'entregas' verificada correctamente.
[LOGÍSTICA] Tabla 'detalle_entregas' verificada correctamente.
[LOGÍSTICA] Tabla 'proveedores_transporte' verificada correctamente.
[LOGÍSTICA] Tabla 'rutas' verificada correctamente.
[LOGÍSTICA] Tabla 'costos_logisticos' verificada correctamente.
[LOGÍSTICA] Tabla 'obras' verificada correctamente.
[Logistica] Modelo creado con conexión BD
[Logistica] Paso 2: Creando vista...
[Logistica] Instanciando clase vista: LogisticaView
[Logistica] Vista creada exitosamente
[Logistica] Paso 3: Creando controlador...
[Logistica] Instanciando clase controlador: LogisticaController
[Logistica] Controlador creado exitosamente
[Logistica] Paso 4: Configurando conexiones...
[Logistica] Vista conectada al controlador
[Logistica] Paso 5: Cargando datos iniciales...
2025-08-18 20:48:22 | WARNING  | rexus.core.module_manager | [Logistica] Método cargar_logistica no encontrado en controlador
[WARNING] [Logistica] Método cargar_logistica no encontrado en controlador
2025-08-18 20:48:22 | INFO     | rexus.logistica.controller | Iniciando carga de datos iniciales de logística
[INFO] Iniciando carga de datos iniciales de logística
[DEBUG] Cargando entregas desde el modelo
[DEBUG] [SQL_MANAGER] Consulta cargada: logistica.obtener_entregas_base desde D:\martin\Rexus.app\sql\logistica\obtener_entregas_base.sql
2025-08-18 20:48:22 | INFO     | rexus.logistica.controller | Cargadas 0 entregas
[INFO] Cargadas 0 entregas
[DEBUG] Método obtener_services no disponible en el modelo
[CHECK] [Logistica] Datos cargados con método genérico: cargar_datos_iniciales
[CHECK] [Logistica] Módulo cargado exitosamente
[Pedidos] Iniciando carga de módulo...
[Pedidos] Paso 1: Creando modelo...
[Pedidos] Instanciando clase modelo: PedidosModel
2025-08-18 20:48:25 | INFO     | rexus.core.database | Intentando conectar a la base de datos
[INFO] Intentando conectar a la base de datos
2025-08-18 20:48:25 | INFO     | rexus.core.database | Servidor: ITACHI\SQLEXPRESS
[INFO] Servidor: ITACHI\SQLEXPRESS
2025-08-18 20:48:25 | INFO     | rexus.core.database | Base de datos: inventario
[INFO] Base de datos: inventario
2025-08-18 20:48:25 | INFO     | rexus.core.database | Driver: ODBC Driver 17 for SQL Server
[INFO] Driver: ODBC Driver 17 for SQL Server
2025-08-18 20:48:25 | INFO     | rexus.core.database | Usuario: sa
[INFO] Usuario: sa
[DEBUG] String de conexión: DRIVER={ODBC Driver 17 for SQL Server};SERVER=ITACHI\SQLEXPRESS;DATABASE=inventario;UID=sa;PWD=******;TrustServerCertificate=yes;
2025-08-18 20:48:25 | INFO     | rexus.core.database | Conexión exitosa OK
[INFO] Conexión exitosa OK
[DEBUG] [SQL_MANAGER] Consulta cargada: pedidos.create_pedidos_table desde D:\martin\Rexus.app\sql\pedidos\create_pedidos_table.sql
[DEBUG] [SQL_MANAGER] Consulta cargada: pedidos.create_pedidos_detalle_table desde D:\martin\Rexus.app\sql\pedidos\create_pedidos_detalle_table.sql
[DEBUG] [SQL_MANAGER] Consulta cargada: pedidos.create_pedidos_historial_table desde D:\martin\Rexus.app\sql\pedidos\create_pedidos_historial_table.sql
[DEBUG] [SQL_MANAGER] Consulta cargada: pedidos.create_pedidos_entregas_table desde D:\martin\Rexus.app\sql\pedidos\create_pedidos_entregas_table.sql
2025-08-18 20:48:25 | INFO     | rexus.modules.pedidos.model | [PEDIDOS] Tablas verificadas/creadas exitosamente
[INFO] [PEDIDOS] Tablas verificadas/creadas exitosamente
2025-08-18 20:48:25 | INFO     | rexus.modules.pedidos.model | [PEDIDOS] Tablas verificadas/creadas exitosamente
[INFO] [PEDIDOS] Tablas verificadas/creadas exitosamente
[DEBUG] [SQL_MANAGER] Consulta cargada: pedidos.obtener_pedidos_base desde D:\martin\Rexus.app\sql\pedidos\obtener_pedidos_base.sql
[Pedidos] Modelo creado con conexión BD
[Pedidos] Paso 2: Creando vista...
[Pedidos] Instanciando clase vista: PedidosView
[Pedidos] Vista creada exitosamente
[Pedidos] Paso 3: Creando controlador...
[Pedidos] Instanciando clase controlador: PedidosController
[ERROR PEDIDOS CONTROLLER] Error cargando pedidos: ('42000', '[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]The text, ntext, and image data types cannot be compared or sorted, except when using IS NULL or LIKE operator. (306) (SQLExecDirectW)')
2025-08-18 20:48:25 | ERROR    | rexus.pedidos.controller | Error en pedidos: Error cargando pedidos: ('42000', '[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]The text, ntext, and image data types cannot be compared or sorted, except when using IS NULL or LIKE operator. (306) (SQLExecDirectW)')
[ERROR] Error en pedidos: Error cargando pedidos: ('42000', '[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]The text, ntext, and image data types cannot be compared or sorted, except when using IS NULL or LIKE operator. (306) (SQLExecDirectW)')
[Pedidos] Controlador creado exitosamente
[Pedidos] Paso 4: Configurando conexiones...
[Pedidos] Vista conectada al controlador
[Pedidos] Paso 5: Cargando datos iniciales...
[ERROR PEDIDOS CONTROLLER] Error cargando pedidos: ('42000', '[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]The text, ntext, and image data types cannot be compared or sorted, except when using IS NULL or LIKE operator. (306) (SQLExecDirectW)')
2025-08-18 20:48:29 | ERROR    | rexus.pedidos.controller | Error en pedidos: Error cargando pedidos: ('42000', '[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]The text, ntext, and image data types cannot be compared or sorted, except when using IS NULL or LIKE operator. (306) (SQLExecDirectW)')
[ERROR] Error en pedidos: Error cargando pedidos: ('42000', '[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]The text, ntext, and image data types cannot be compared or sorted, except when using IS NULL or LIKE operator. (306) (SQLExecDirectW)')
[CHECK] [Pedidos] Datos cargados con método específico: cargar_pedidos
[CHECK] [Pedidos] Módulo cargado exitosamente
